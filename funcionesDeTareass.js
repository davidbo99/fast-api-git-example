const fs=require("fs");let autos=require("./autos"),archivo={autos:autos,leer:function(){return JSON.stringify(autos)},buscarAuto:function(t){let e=autos.filter(e=>e.patente===t);return e.length>0?JSON.stringify(e):null},venderAuto:function(t){let e=this.buscarAuto(t);return e.vendido=!0,e},venderAuto:function(t){let e=autos;for(var n=0;n<e.length;n++){if(e[n].patente!==t||!1!==e[n])return"el auto fue vendido antes";e[n].vendido=!0}return fs.writeFileSync(__dirname+"/tareas.json",JSON.stringify(e)),e},autosParaLaVenta:function(t){return t=this.autos.filter(t=>!1===t.vendido)},autosNuevos:function(){return autos=this.autosParaLaVenta(autos).filter(t=>t.km<100)},autos0KM:function(){let t=[],e=this.autosParaLaVenta(autos);for(i=0;i<e.length;i++)e[i].km<100&&!1===e[i].vendido&&t.push(e[i]);return t}};const autos=require("./autos");let concesionaria={autos:autos,buscarAuto:function(t){for(let e of autos)if(e.patente==t)return e;return null},venderAuto:function(t){(auto=this.buscarAuto(t)).vendido=!0},autosParaLaVenta:function(){return autos.filter(function(t){return!1==t.vendido})},autos0KM:function(){return this.autosParaLaVenta().filter(t=>t.km<100)},listaDeVentas:function(){let t=[];return autos.forEach(function(e){if(!0==e.vendido)return t.push(e.precio)}),t},totalDeVentas:function(){return this.listaDeVentas().reduce(function(t,e){return t+e},0)},puedeComprar:function(t,e){return t.precio/t.cuotas<e.capacidadDePagoEnCuotas&&t.precio<e.capacidadDePagoTotal},autosQuePuedeComprar(t){return autos.filter(e=>this.puedeComprar(e,t))}};